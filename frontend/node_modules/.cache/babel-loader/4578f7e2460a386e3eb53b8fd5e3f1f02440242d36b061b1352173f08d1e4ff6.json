{"ast":null,"code":"import apiEndpoints from \"../../data/environment\";\nasync function loginRequest(loginDetails) {\n  if (localStorage.getItem(\"user\")) {\n    const data = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(loginDetails)\n  });\n  if (response.ok) {\n    const data = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\nexport { loginRequest };","map":{"version":3,"names":["apiEndpoints","loginRequest","loginDetails","localStorage","getItem","data","JSON","parse","response","fetch","login","method","headers","body","stringify","ok","json","setItem","Promise","reject","statusText"],"sources":["/Users/aryanchadha/Desktop/sp25-cs411-team059-MongoKings/frontend/src/services/Auth/AuthRequests.ts"],"sourcesContent":["import apiEndpoints from \"../../data/environment\";\nimport LoginInput from \"../../types/Authentication/LoginInput\";\nimport User from \"../../types/Authentication/User\";\n\nasync function loginRequest(loginDetails: LoginInput): Promise<User> {\n  if (localStorage.getItem(\"user\")) {\n    const data: User = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  \n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(loginDetails),\n  });\n  if (response.ok) {\n    const data: User = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\n\nexport {  loginRequest };\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,wBAAwB;AAIjD,eAAeC,YAAYA,CAACC,YAAwB,EAAiB;EACnE,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAChC,MAAMC,IAAU,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACnE,OAAOC,IAAI;EACb;EAEA,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACT,YAAY,CAACU,KAAK,EAAE;IAC/CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEP,IAAI,CAACQ,SAAS,CAACZ,YAAY;EACnC,CAAC,CAAC;EACF,IAAIM,QAAQ,CAACO,EAAE,EAAE;IACf,MAAMV,IAAU,GAAG,MAAMG,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACxCb,YAAY,CAACc,OAAO,CAAC,MAAM,EAAEX,IAAI,CAACQ,SAAS,CAACT,IAAI,CAAC,CAAC;IAClD,OAAOA,IAAI;EACb;EACA,OAAOa,OAAO,CAACC,MAAM,CAACX,QAAQ,CAACY,UAAU,CAAC;AAC5C;AAEA,SAAUnB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}