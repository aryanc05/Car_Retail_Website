{"ast":null,"code":"import apiEndpoints from \"../../data/environment\";\nasync function registerRequest(registerDetails) {\n  const response = await fetch(apiEndpoints.register, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(registerDetails)\n  });\n  console.log(response);\n  if (response.ok) {\n    const message = response.text();\n    console.log(\"Register success\");\n    console.log(message);\n    return message;\n  }\n  console.log(\"Register failed\");\n  return Promise.reject(\"Register failed\");\n}\nasync function loginRequest(loginDetails) {\n  if (localStorage.getItem(\"user\")) {\n    const data = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  console.log(loginDetails);\n  console.log(apiEndpoints.login);\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(loginDetails)\n  });\n  console.log(\"done\");\n  if (response.ok) {\n    const data = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\nasync function logoutRequest(user) {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\nexport { loginRequest, logoutRequest, registerRequest };","map":{"version":3,"names":["apiEndpoints","registerRequest","registerDetails","response","fetch","register","method","headers","body","JSON","stringify","console","log","ok","message","text","Promise","reject","loginRequest","loginDetails","localStorage","getItem","data","parse","login","json","setItem","statusText","logoutRequest","user","removeItem","resolve"],"sources":["/Users/aryanchadha/Desktop/sp25-cs411-team059-MongoKings/frontend/src/services/Auth/AuthRequests.ts"],"sourcesContent":["import apiEndpoints from \"../../data/environment\";\nimport LoginInput from \"../../types/Authentication/LoginInput\";\nimport RegisterInput from \"../../types/Authentication/RegisterInput\";\nimport User from \"../../types/Authentication/User\";\n\nasync function registerRequest(\n  registerDetails: RegisterInput\n): Promise<string> {\n  const response = await fetch(apiEndpoints.register, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(registerDetails),\n  });\n  console.log(response);\n  if (response.ok) {\n    const message = response.text();\n    console.log(\"Register success\");\n    console.log(message);\n    return message;\n  }\n  console.log(\"Register failed\");\n  return Promise.reject(\"Register failed\");\n}\n\n\nasync function loginRequest(loginDetails: LoginInput): Promise<User> {\n  if (localStorage.getItem(\"user\")) {\n    const data: User = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  console.log(loginDetails);\n  console.log(apiEndpoints.login);\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(loginDetails),\n  });\n  console.log(\"done\")\n  if (response.ok) {\n    const data: User = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\n\nasync function logoutRequest(user: User): Promise<string> {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\n\nexport {  loginRequest, logoutRequest, registerRequest };\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,wBAAwB;AAKjD,eAAeC,eAAeA,CAC5BC,eAA8B,EACb;EACjB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,YAAY,CAACK,QAAQ,EAAE;IAClDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,eAAe;EACtC,CAAC,CAAC;EACFS,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;EACrB,IAAIA,QAAQ,CAACU,EAAE,EAAE;IACf,MAAMC,OAAO,GAAGX,QAAQ,CAACY,IAAI,CAAC,CAAC;IAC/BJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAC/BD,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;IACpB,OAAOA,OAAO;EAChB;EACAH,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAC9B,OAAOI,OAAO,CAACC,MAAM,CAAC,iBAAiB,CAAC;AAC1C;AAGA,eAAeC,YAAYA,CAACC,YAAwB,EAAiB;EACnE,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAChC,MAAMC,IAAU,GAAGb,IAAI,CAACc,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACnE,OAAOC,IAAI;EACb;EACAX,OAAO,CAACC,GAAG,CAACO,YAAY,CAAC;EACzBR,OAAO,CAACC,GAAG,CAACZ,YAAY,CAACwB,KAAK,CAAC;EAC/B,MAAMrB,QAAQ,GAAG,MAAMC,KAAK,CAACJ,YAAY,CAACwB,KAAK,EAAE;IAC/ClB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACS,YAAY;EACnC,CAAC,CAAC;EACFR,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EACnB,IAAIT,QAAQ,CAACU,EAAE,EAAE;IACf,MAAMS,IAAU,GAAG,MAAMnB,QAAQ,CAACsB,IAAI,CAAC,CAAC;IACxCL,YAAY,CAACM,OAAO,CAAC,MAAM,EAAEjB,IAAI,CAACC,SAAS,CAACY,IAAI,CAAC,CAAC;IAClD,OAAOA,IAAI;EACb;EACA,OAAON,OAAO,CAACC,MAAM,CAACd,QAAQ,CAACwB,UAAU,CAAC;AAC5C;AAEA,eAAeC,aAAaA,CAACC,IAAU,EAAmB;EACxDT,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;EAC/B,OAAOd,OAAO,CAACe,OAAO,CAAC,yBAAyB,CAAC;AACnD;AAEA,SAAUb,YAAY,EAAEU,aAAa,EAAE3B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}