{"ast":null,"code":"import apiEndpoints from \"../../data/environment\";\nasync function loginRequest(loginDetails) {\n  if (localStorage.getItem(\"user\")) {\n    const data = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  console.log(loginDetails);\n  console.log(apiEndpoints.login);\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(loginDetails)\n  });\n  console.log(\"done\");\n  if (response.ok) {\n    const data = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\nasync function logoutRequest(user) {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\nexport { loginRequest, logoutRequest };","map":{"version":3,"names":["apiEndpoints","loginRequest","loginDetails","localStorage","getItem","data","JSON","parse","console","log","login","response","fetch","method","headers","body","stringify","ok","json","setItem","Promise","reject","statusText","logoutRequest","user","removeItem","resolve"],"sources":["/Users/aryanchadha/Desktop/sp25-cs411-team059-MongoKings/frontend/src/services/Auth/AuthRequests.ts"],"sourcesContent":["import apiEndpoints from \"../../data/environment\";\nimport LoginInput from \"../../types/Authentication/LoginInput\";\nimport User from \"../../types/Authentication/User\";\n\nasync function loginRequest(loginDetails: LoginInput): Promise<User> {\n  if (localStorage.getItem(\"user\")) {\n    const data: User = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  console.log(loginDetails);\n  console.log(apiEndpoints.login);\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(loginDetails),\n  });\n  console.log(\"done\")\n  if (response.ok) {\n    const data: User = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\n\nasync function logoutRequest(user: User): Promise<string> {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\n\nexport {  loginRequest, logoutRequest };\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,wBAAwB;AAIjD,eAAeC,YAAYA,CAACC,YAAwB,EAAiB;EACnE,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAChC,MAAMC,IAAU,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACnE,OAAOC,IAAI;EACb;EACAG,OAAO,CAACC,GAAG,CAACP,YAAY,CAAC;EACzBM,OAAO,CAACC,GAAG,CAACT,YAAY,CAACU,KAAK,CAAC;EAC/B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACZ,YAAY,CAACU,KAAK,EAAE;IAC/CG,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAET,IAAI,CAACU,SAAS,CAACd,YAAY;EACnC,CAAC,CAAC;EACFM,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EACnB,IAAIE,QAAQ,CAACM,EAAE,EAAE;IACf,MAAMZ,IAAU,GAAG,MAAMM,QAAQ,CAACO,IAAI,CAAC,CAAC;IACxCf,YAAY,CAACgB,OAAO,CAAC,MAAM,EAAEb,IAAI,CAACU,SAAS,CAACX,IAAI,CAAC,CAAC;IAClD,OAAOA,IAAI;EACb;EACA,OAAOe,OAAO,CAACC,MAAM,CAACV,QAAQ,CAACW,UAAU,CAAC;AAC5C;AAEA,eAAeC,aAAaA,CAACC,IAAU,EAAmB;EACxDrB,YAAY,CAACsB,UAAU,CAAC,MAAM,CAAC;EAC/B,OAAOL,OAAO,CAACM,OAAO,CAAC,yBAAyB,CAAC;AACnD;AAEA,SAAUzB,YAAY,EAAEsB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}