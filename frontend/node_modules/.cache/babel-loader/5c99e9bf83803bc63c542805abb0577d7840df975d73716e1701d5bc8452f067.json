{"ast":null,"code":"import apiEndpoints from \"../../data/environment\";\nasync function registerRequest(registerDetails) {\n  const response = await fetch(apiEndpoints.register, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(registerDetails)\n  });\n  if (response.ok) {\n    return response.text();\n  }\n  return Promise.reject(\"Register failed\");\n}\nasync function loginRequest(loginDetails) {\n  if (localStorage.getItem(\"user\")) {\n    const data = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(loginDetails)\n  });\n  if (response.ok) {\n    const data = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\nasync function logoutRequest(user) {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\nexport { registerRequest, loginRequest, logoutRequest };","map":{"version":3,"names":["apiEndpoints","registerRequest","registerDetails","response","fetch","register","method","headers","body","JSON","stringify","ok","text","Promise","reject","loginRequest","loginDetails","localStorage","getItem","data","parse","login","json","setItem","statusText","logoutRequest","user","removeItem","resolve"],"sources":["/Users/aryanchadha/Desktop/sp25-cs411-team059-MongoKings/frontend/src/services/Auth/AuthRequests.ts"],"sourcesContent":["import apiEndpoints from \"../../data/environment\";\nimport LoginInput from \"../../types/Authentication/LoginInput\";\nimport RegisterInput from \"../../types/Authentication/RegisterInput\";\nimport User from \"../../types/Authentication/User\";\n\nasync function registerRequest(\n  registerDetails: RegisterInput\n): Promise<string> {\n  const response = await fetch(apiEndpoints.register, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(registerDetails),\n  });\n  if (response.ok) {\n    return response.text();\n  }\n  return Promise.reject(\"Register failed\");\n}\n\nasync function loginRequest(loginDetails: LoginInput): Promise<User> {\n  if (localStorage.getItem(\"user\")) {\n    const data: User = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    return data;\n  }\n  const response = await fetch(apiEndpoints.login, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(loginDetails),\n  });\n  if (response.ok) {\n    const data: User = await response.json();\n    localStorage.setItem(\"user\", JSON.stringify(data));\n    return data;\n  }\n  return Promise.reject(response.statusText);\n}\n\nasync function logoutRequest(user: User): Promise<string> {\n  localStorage.removeItem(\"user\");\n  return Promise.resolve(\"Logged out successfully\");\n}\n\nexport { registerRequest, loginRequest, logoutRequest };\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,wBAAwB;AAKjD,eAAeC,eAAeA,CAC5BC,eAA8B,EACb;EACjB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,YAAY,CAACK,QAAQ,EAAE;IAClDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,eAAe;EACtC,CAAC,CAAC;EACF,IAAIC,QAAQ,CAACQ,EAAE,EAAE;IACf,OAAOR,QAAQ,CAACS,IAAI,CAAC,CAAC;EACxB;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,iBAAiB,CAAC;AAC1C;AAEA,eAAeC,YAAYA,CAACC,YAAwB,EAAiB;EACnE,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAChC,MAAMC,IAAU,GAAGV,IAAI,CAACW,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACnE,OAAOC,IAAI;EACb;EACA,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAACJ,YAAY,CAACqB,KAAK,EAAE;IAC/Cf,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACM,YAAY;EACnC,CAAC,CAAC;EACF,IAAIb,QAAQ,CAACQ,EAAE,EAAE;IACf,MAAMQ,IAAU,GAAG,MAAMhB,QAAQ,CAACmB,IAAI,CAAC,CAAC;IACxCL,YAAY,CAACM,OAAO,CAAC,MAAM,EAAEd,IAAI,CAACC,SAAS,CAACS,IAAI,CAAC,CAAC;IAClD,OAAOA,IAAI;EACb;EACA,OAAON,OAAO,CAACC,MAAM,CAACX,QAAQ,CAACqB,UAAU,CAAC;AAC5C;AAEA,eAAeC,aAAaA,CAACC,IAAU,EAAmB;EACxDT,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;EAC/B,OAAOd,OAAO,CAACe,OAAO,CAAC,yBAAyB,CAAC;AACnD;AAEA,SAAS3B,eAAe,EAAEc,YAAY,EAAEU,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}